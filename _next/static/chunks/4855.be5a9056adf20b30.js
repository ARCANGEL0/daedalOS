"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1583,4855],{34855:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var n=a(74848),r=a(33540),l=a(57725);let i=r.Ay.div.withConfig({componentId:"sc-a7c0421-0"})(["height:100%;width:100%;&.drop{",";}ruffle-player{height:100%;width:100%;}"],(0,l.A)("Drop SWF/SPL file here","#ffad33"));var s=a(16286),o=a(96540),c=a(55650),f=a(41017),d=a(62104),u=a(37e3);let p=({containerRef:e,id:t,setLoading:a,url:n})=>{let{linkElement:r,processes:{[t]:{libs:l=[]}={}}={}}=(0,d.N)(),[i,p]=(0,o.useState)(),{appendFileToTitle:m}=(0,c.A)(t),{readFile:h}=(0,f.f)(),w=(0,o.useCallback)(async()=>{e.current?.classList.remove("drop");try{await i?.load({data:await h(n)})}catch{}finally{a(!1)}m((0,s.basename)(n,(0,s.extname)(n)))},[m,e,i,h,a,n]);(0,o.useEffect)(()=>{(0,u.aY)(l).then(()=>{window.RufflePlayer&&(window.RufflePlayer.config={allowScriptAccess:!1,autoplay:"on",backgroundColor:"#000000",letterbox:"on",polyfills:!1,preloader:!1,unmuteOverlay:"hidden"},p(window.RufflePlayer.newest().createPlayer()),n||(e.current?.classList.add("drop"),a(!1)))})},[e,l,a,n]),(0,o.useEffect)(()=>(e.current&&i&&(e.current.append(i),r(t,"peekElement",i)),()=>i?.remove()),[e,t,r,i]),(0,o.useEffect)(()=>{e.current&&i&&n&&w()},[e,w,i,n])};var m=a(14153);let h=({id:e})=>(0,n.jsx)(m.A,{StyledComponent:i,id:e,useHook:p})},14153:(e,t,a)=>{a.d(t,{A:()=>o});var n=a(74848),r=a(96540),l=a(51583),i=a(8218),s=a(62104);let o=(0,r.memo)(({id:e,useHook:t,StyledComponent:a,children:o})=>{let{processes:{[e]:{url:c=""}={}}}=(0,s.N)(),f=(0,r.useRef)(null),[d,u]=(0,r.useState)(!0),p=(0,r.useMemo)(()=>({contain:"strict",visibility:d?"hidden":"visible"}),[d]);return t({containerRef:f,id:e,loading:d,setLoading:u,url:c}),(0,n.jsxs)(n.Fragment,{children:[d&&(0,n.jsx)(l.default,{}),(0,n.jsx)(a,{ref:f,style:p,...(0,i.A)({id:e}),children:o})]})})},51583:(e,t,a)=>{a.r(t),a.d(t,{default:()=>n});let n=a(33540).Ay.div.withConfig({componentId:"sc-29e5eb62-0"})(['cursor:wait;height:100%;width:100%;&::before{color:#fff;content:"Working on it...";display:flex;font-size:12px;justify-content:center;mix-blend-mode:difference;padding-top:18px;}'])},8218:(e,t,a)=>{a.d(t,{A:()=>m});var n=a(16286),r=a(96540),l=a(51780),i=a(16091),s=a(13296),o=a(41017),c=a(62104),f=a(1364),d=a(48060),u=a(37e3),p=a(96119);let m=({callback:e,directory:t=d.Bn,id:a,onDragLeave:m,onDragOver:h,updatePositions:w})=>{let{url:y}=(0,c.N)(),b=(0,p.w)(),{iconPositions:g,sortOrders:A,setIconPositions:$}=(0,f.w)(),{exists:v,mkdirRecursive:x,updateFolder:k,writeFile:C}=(0,o.f)(),E=(0,r.useCallback)(async(e,t,r)=>{if(a){if(t){let l=(0,n.join)(d.Bn,e);if(await x(d.Bn),await C(l,t,!0))return r===s.z.UPDATE_URL&&y(a,l),k(d.Bn,e),(0,n.basename)(l)}else r===s.z.UPDATE_URL&&y(a,e)}return""},[a,x,k,y,C]),{openTransferDialog:j}=(0,l.A)();return{onDragLeave:m,onDragOver:e=>{h?.(e),(0,u.CH)(e)},onDrop:r=>{if(d.jj.has((0,u.uQ)(t)))return;if(w&&r.target instanceof HTMLElement){let{files:e,text:a}=(0,i.bn)(r);if(0===e.length&&""===a)return;(async()=>{let l={x:r.clientX,y:r.clientY},i=[];if(a){try{i=JSON.parse(a)}catch{}if(!Array.isArray(i))return;let[e]=i;if(!e||e.startsWith(t)&&(0,n.basename)(e)===(0,n.relative)(t,e))return;i=i.map(e=>(0,n.basename)(e))}else e instanceof FileList?i=[...e].map(e=>e.name):i=[...e].map(e=>e.getAsFile()?.name||"").filter(Boolean);i=await Promise.all(i.map(async e=>{let a=`${t}/${e}`;if(!g[a]||!await v(a))return e;let r=0;do r+=1,a=`${t}/${(0,n.basename)(e,(0,n.extname)(e))} (${r})${(0,n.extname)(e)}`;while(g[a]&&await v(a));return(0,n.basename)(a)})),(0,u.$Y)(t,r.target,g,A,l,i,$,v)})()}let l="string"==typeof a;l&&!w&&t===d.Bn&&b.current[a]?.componentWindow?.focus(d.VD),(0,i.nX)(r,e||E,t,j,l)}}}},55650:(e,t,a)=>{a.d(t,{A:()=>s});var n=a(96540),r=a(62104),l=a(25573),i=a(48060);let s=e=>{let{title:t}=(0,r.N)(),[a]=e.split(i.QB),{title:s}=l.A[a]||{};return{appendFileToTitle:(0,n.useCallback)((a,n)=>{let r=a?` - ${a}${n?` ${i.g6}`:""}`:"";t(e,`${s}${r}`)},[e,s,t]),prependFileToTitle:(0,n.useCallback)((a,n,r)=>{let l=a?`${n?`${i.g6} `:""}${a}${r?" ":" - "}`:"";t(e,`${l}${s}`)},[e,s,t])}}},57725:(e,t,a)=>{a.d(t,{A:()=>r});var n=a(33540);let r=(e,t)=>(0,n.AH)(["&::before{color:",';content:"','";display:flex;font-size:16px;font-weight:600;height:100%;left:0;place-content:center;place-items:center;position:absolute;top:0;width:100%;}'],t,e)}}]);