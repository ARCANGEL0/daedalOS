"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2271],{52271:(e,t,r)=>{r.r(t),r.d(t,{default:()=>I});var o=r(74848),i=r(16286),l=r(96540),n=r(61149),a=r(78744);let s=(e,t,r)=>{let{contextMenu:o}=(0,a.b)();return{backMenu:(0,l.useMemo)(()=>o?.(()=>e.filter((e,r)=>r<t).map((e,o)=>({action:()=>r(o-t),label:e})).reverse()),[o,e,r,t]),forwardMenu:(0,l.useMemo)(()=>o?.(()=>e.filter((e,r)=>r>t).map((e,t)=>({action:()=>r(t+1),label:e}))),[o,e,r,t])}},c=()=>{let{contextMenu:e}=(0,a.b)();return(0,l.useMemo)(()=>e?.(e=>[{action:()=>e?.target?.dispatchEvent(new MouseEvent("click",{bubbles:!0,ctrlKey:!0})),label:"Open in new window"}]),[e])};var d=r(97279),p=r(37e3),u=r(48060);let h="/Program Files/Browser/directory/icons",g={"FutureSplash File":"portal","HTML Document":"layout","Media Playlist File":"movie","Picture File":"image2","Shockwave Flash File":"portal",audio:"sound2",compressed:"compressed",emulator:"portal",executable:"binary",font:"a",image:"diskimg",jsdos:"compressed",marked:"layout",pdf:"layout",python:"p",tinymce:"layout",wapm:"binary"},m={...Object.fromEntries(Object.entries(d.A).map(([e,{icon:t="",type:r=""}])=>[e,g[t||r]||"generic"])),".7z":"compressed",".gz":"compressed",".ini":"text",".js":"text",".json":"text",".pk3":"compressed",".rar":"compressed",".sh":"script",".tar":"tar",".tgz":"compressed",".txt":"text",".url":"link",".wsz":"compressed"},f={back:"PARENTDIR",folder:"DIR",image2:"IMG",movie:"VID",text:"TXT"},x=e=>{if(void 0===e)return" - ";let t=["","K","M","G","T"],r=Math.floor((e?Math.log(e):0)/Math.log(1024));r=Math.min(r,t.length-1);let o=e/1024**r,i=Number(o=o>=100?Math.round(o):Math.round(10*o)/10).toString();return i.length>3&&(i=Number(Math.round(o)).toString()),i+(0!==o&&o<10&&o%1==0?".0":"")+t[r]},w=e=>e?.toISOString().replace("T"," ").split(".")[0].slice(0,-3)||"",b=(e,t,{C:r,O:o},l)=>`
  <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
  <html xmlns="http://www.w3.org/1999/xhtml">
    <head>
      <title>Index of ${e}</title>
      <style>
        a:visited { color: #00e; }
        img { display: block; }
      </style>
    </head>
    <body>
      <h1>Index of ${e}</h1>
      <table>
        <tr>
          <th valign="top"><img decoding="async" src="${h}/blank.gif" alt="[ICO]" /></th>
          <th><a href="${t}?C=N;O=${r&&("N"!==r||"A"!==o)?"A":"D"}">Name</a></th><th><a href="${t}?C=M;O=${"M"===r&&"A"===o?"D":"A"}">Last modified</a></th>
          <th><a href="${t}?C=S;O=${"S"===r&&"A"===o?"D":"A"}">Size</a></th><th><a href="${t}?C=D;O=${"D"===r&&"A"===o?"D":"A"}">Description</a></th>
        </tr>
        <tr>
          <th colspan="5"><hr /></th>
        </tr>
        ${l.map(({alt:e,description:r,href:o,icon:l,modified:n,size:a})=>{let s=l||m[(0,p.uQ)(o)]||"generic",c="back"===s,d=c||"folder"===s?"folder":"file",g=c?"Parent Directory":"/"===o?u.l6:(0,i.basename)(o);return`
              <tr>
                <td valign="top">
                  <a href="${t}${o}" type=${d}>
                    <img decoding="async" src="${h}/${s}.gif" alt="[${f[s]||e||"   "}]">
                  </a>
                </td>
                <td>
                  <a href="${t}${o}" type=${d}>${g}${"folder"===s?"/":""}</a>
                </td>
                <td align="right">${w(n)}</td>
                <td align="right">${x(a)}</td>
                <td>${r||"&nbsp;"}</td>
              </tr>`}).join("")}
          <tr><th colspan="5"><hr /></th></tr>
      </table>
    </body>
  </html>
`,v=(0,l.memo)(({direction:e})=>{let t=(0,l.useMemo)(()=>"right"===e?{transform:"scaleX(-1)"}:void 0,[e]);return(0,o.jsx)("svg",{style:t,viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"})})}),y=(0,l.memo)(()=>(0,o.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"})})),k=(0,l.memo)(()=>(0,o.jsx)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"})})),$=r(33540).Ay.div.withConfig({componentId:"sc-5cab7b41-0"})(["iframe{background-color:",";border:0;height:calc(100% - 42px - 37px);width:100%;}nav{background-color:rgb(87,87,87);display:flex;padding:4px 0;place-content:center;place-items:center;div{display:flex;justify-content:space-around;margin-right:2px;min-width:102px;padding-left:4px;width:142px;}button{border-radius:50%;display:flex;height:28px;place-content:center;place-items:center;transition:background 0.2s ease-in-out;width:28px;svg{fill:rgb(240,240,240);height:20px;width:20px;}&:hover{background-color:rgb(103,103,103);}&:active{background-color:rgb(110,110,110);}&:disabled{background-color:inherit;svg{fill:rgb(152,152,152);}}}&:not(:first-child){border-bottom:1px solid rgb(118,115,118);height:37px;justify-content:left;padding:0 8px;button{margin-bottom:4px;margin-right:8px;}}input{background-color:rgb(64,62,65);border-radius:18px;color:rgb(255,255,255);font-family:",";font-size:13px;height:34px;letter-spacing:0.2px;margin:0 6px;padding:0 13px;padding-bottom:2px;width:100%;&:focus{outline:2px solid rgb(168,199,250);}&::selection{background-color:rgb(0,74,119);}}}"],({$hasSrcDoc:e})=>e?"#fff":"initial",({theme:e})=>e.formats.systemFont);var j=r(11462),C=r(55650),T=r(41017),M=r(62104),A=r(25573),E=r(41543),L=r(87952),D=r(31251),z=r(91745),S=r(1364);let I=({id:e})=>{let{icon:t,linkElement:r,url:a,processes:{[e]:d},open:h}=(0,M.N)(),{setForegroundId:g,updateRecentFiles:m}=(0,S.w)(),{prependFileToTitle:f}=(0,C.A)(e),{initialTitle:x="",url:w=""}=d||{},I=w||j.Ko,{canGoBack:N,canGoForward:R,history:B,moveHistory:F,position:O}=(0,E.A)(I,e),{exists:H,fs:q,stat:P,readFile:U,readdir:G}=(0,T.f)(),K=(0,l.useRef)(null),W=(0,l.useRef)(null),[Q,V]=(0,l.useState)(!1),[_,X]=(0,l.useState)(""),Y=e=>{F(e),K.current&&(K.current.value=B[O+e])},J=(0,l.useRef)(""),Z=(e,t)=>{let r=!1;try{r=t.location?.pathname==="srcdoc"}catch{}r?(X(""),W.current?.setAttribute("src",e)):t.location?.replace(e)},ee=(0,l.useCallback)(t=>{K.current&&(K.current.value=t),a(e,t)},[a,e]),{backMenu:et,forwardMenu:er}=s(B,O,F),eo=c(),ei=(0,l.useCallback)(async r=>{let{contentWindow:o}=W.current||{};if(o?.location){let l=[".htm",".html"].includes((0,p.uQ)(r))&&await H(r);if(V(!0),l&&X((await U(r)).toString()),t(e,A.A.Browser.icon),r.toLowerCase().startsWith(j.Er.url))Z(`${window.location.origin}${j.Er.path}`,o),f(`${j.Er.url}/`);else if(!l){let l=await (0,p.pE)(r);if(j.L0.has(l.host)||j.L0.has(r)){let e=decodeURI(l.pathname).replace(/\/$/,"")||"/",t=Object.fromEntries(new URLSearchParams(l.search.replace(";","&")).entries()),{O:r,C:n}=t,a=!r||"A"===r,s=j.p2,c="404 Not Found";if(await H(e)&&(await P(e)).isDirectory()){let r=(await Promise.all((await G(e)).map(async t=>{let r,o;let l=(0,i.join)(e,t);if((0,p.uQ)(t)===u.b3)try{({comment:r,url:o}=(0,z.DB)(await U(l)))}catch{}let n=await P(o&&await H(o)?o:l),a=n.isDirectory();return{description:r,href:a&&o?o:l,icon:a?"folder":void 0,modified:n.mtime,size:a||o?void 0:n.size}}))).sort((e,t)=>Number("folder"===t.icon)-Number("folder"===e.icon)).sort((e,t)=>{if("folder"===e.icon==("folder"===t.icon)){let r=(0,i.basename)(e.href),o=(0,i.basename)(t.href);return a?r<o?-1:1:r>o?-1:1}return 0}).sort((e,t)=>{if(!n||"N"===n)return 0;let r=r=>{let o=r(e),i=r(t);return o===i?0:a?o<i?-1:1:o>i?-1:1};return"S"===n?r(({size:e})=>e??0):"M"===n?r(({modified:e})=>e?.getTime()??0):"D"===n?r(({description:e})=>e??""):0}).sort((e,t)=>Number("folder"===t.icon)-Number("folder"===e.icon));W.current?.addEventListener("load",()=>{try{o.document.body.querySelectorAll("a").forEach(t=>{t.addEventListener("click",t=>{t.preventDefault();let r=t.currentTarget,o="folder"===r.getAttribute("type"),{origin:i,pathname:l,search:n}=new URL(r.href);n?ee(`${i}${encodeURI(e)}${n}`):o?ee(r.href):q&&r.href&&z.O6(q,decodeURI(l),p.uQ(l),({pid:e,url:t})=>{h(e||"OpenWith",{url:t}),e&&t&&m(t,e)})})})}catch{}},u.w3),s=b(e,l.origin,t,"/"===e?r:[{href:(0,i.resolve)(e,".."),icon:"back"},...r]),c=`Index of ${e}`}X(s),f(c)}else{let i=l.href;if(Z(i,o),i.startsWith(p.K6))f(`${r} - Google Search`);else{let{name:e=x}=j.ok?.find(({url:e})=>e===r)||{};f(e)}if(r.startsWith("ipfs://"))t(e,"/System/Icons/Favicons/ipfs.webp");else{let r=new Image,o=`${new URL(i).origin}${u.Jw}`;r.addEventListener("error",()=>{let{icon:r}=j.ok?.find(({url:e})=>e===i)||{};r&&t(e,r)},u.w3),r.addEventListener("load",()=>t(e,o),u.w3),r.decoding="async",r.src=o}}}}},[H,q,ee,e,x,h,f,U,G,t,P,m]);return(0,l.useEffect)(()=>{d&&B[O]!==J.current&&(J.current=B[O],ei(B[O]))},[B,O,d,ei]),(0,l.useEffect)(()=>{W.current&&r(e,"peekElement",W.current)},[e,r]),(0,o.jsxs)($,{$hasSrcDoc:!!_,children:[(0,o.jsxs)("nav",{children:[(0,o.jsxs)("div",{children:[(0,o.jsx)(L.A,{disabled:!N,onClick:()=>Y(-1),...(0,p.Pf)("Click to go back"),...et,children:(0,o.jsx)(v,{direction:"left"})}),(0,o.jsx)(L.A,{disabled:!R,onClick:()=>Y(1),...(0,p.Pf)("Click to go forward"),...er,children:(0,o.jsx)(v,{direction:"right"})}),(0,o.jsx)(L.A,{disabled:Q,onClick:()=>ei(B[O]),onContextMenu:p.CH,...(0,p.Pf)("Reload this page"),children:Q?(0,o.jsx)(k,{}):(0,o.jsx)(y,{})})]}),(0,o.jsx)("input",{ref:K,defaultValue:I,onFocusCapture:()=>K.current?.select(),onKeyDown:({key:t})=>{K.current&&"Enter"===t&&(a(e,K.current.value),J.current===K.current.value&&ei(K.current.value),window.getSelection()?.removeAllRanges(),K.current.blur())},...n.f})]}),(0,o.jsx)("nav",{children:j.ok.map(({name:e,icon:t,url:r})=>(0,o.jsx)(L.A,{onClick:({ctrlKey:e})=>{e?h("Browser",{url:r}):ee(r)},...(0,p.Pf)(`${e}
${r.replace(/^http:\/\//,"").replace(/\/$/,"")}`),...eo,children:(0,o.jsx)(D.A,{alt:e,imgSize:16,src:t})},e))}),(0,o.jsx)("iframe",{ref:W,onLoad:()=>{try{W.current?.contentWindow?.addEventListener("focus",()=>g(e))}catch{}Q&&V(!1)},srcDoc:_||void 0,title:e,...u.aI})]})}},61149:(e,t,r)=>{r.d(t,{f:()=>w,A:()=>b});var o=r(74848),i=r(16286),l=r(96540),n=r(16093);let a=r(33540).Ay.div.withConfig({componentId:"sc-8d31798-0"})(["background-position:2px 5px;background-repeat:no-repeat;background-size:16px;border:1px solid rgb(83,83,83);display:flex;height:","px;margin:6px 12px 5px 5px;overflow:hidden;padding:0 22px 2px 25px;position:relative;width:100%;input{background-color:rgb(25,25,25);border-right:1px solid rgb(21,21,21);color:#fff;font-family:",";font-size:12px;font-weight:400;height:","px;padding-bottom:2px;text-overflow:ellipsis;white-space:nowrap;width:calc(100% - 2px);&:focus,&.inputing{height:","px;}}img{left:2px;position:absolute;top:1px;}.action{background-color:rgb(25,25,25);display:flex;height:","px;margin:0;place-content:center;place-items:center;position:absolute;right:0;top:0;width:24px;&:hover{background-color:rgb(27,41,49);border:1px solid rgb(34,114,153);}&:active{background-color:rgb(28,57,71);border:1px solid rgb(38,160,218);}svg{color:rgb(128,128,128);stroke:rgb(128,128,128);&.refresh{position:relative;stroke-width:3;top:-1px;}&.go-to{height:12px;stroke-width:2;width:12px;}}}"],({theme:e})=>e.sizes.fileExplorer.navInputHeight,({theme:e})=>e.formats.systemFont,({theme:e})=>e.sizes.fileExplorer.navInputHeight-2,({theme:e})=>e.sizes.fileExplorer.navInputHeight,({theme:e})=>e.sizes.fileExplorer.navInputHeight-2);var s=r(78744);let c=e=>{let{contextMenu:t}=(0,s.b)();return(0,l.useMemo)(()=>t?.(()=>[{action:()=>navigator.clipboard?.writeText(e),label:"Copy address"}]),[e,t])};var d=r(41017),p=r(62104),u=r(87952),h=r(31251),g=r(48060),m=r(37e3),f=r(91745),x=r(1364);let w={"aria-label":"Address",enterKeyHint:"go",inputMode:"url",name:"address",...g.m8},b=(0,l.forwardRef)(({id:e},t)=>{let r=(0,l.useRef)(null),{open:s,url:b,processes:{[e]:{icon:v,url:y=""}}}=(0,p.N)(),k=(0,l.useMemo)(()=>(0,i.basename)(y)||g.l6,[y]),[$,j]=(0,l.useState)(k),{exists:C,stat:T,updateFolder:M}=(0,d.f)(),{updateRecentFiles:A}=(0,x.w)(),E=(0,l.useMemo)(()=>$!==k&&$!==y&&document.activeElement===t.current,[$,t,k,y]),L=(0,l.useCallback)(async()=>{if($&&await C($)){if((await T($)).isDirectory())b(e,$);else{let e=(0,f.YD)((0,m.uQ)($));s(e||"OpenWith",{url:$}),e&&A($,e)}}t.current?.blur()},[$,t,b,C,e,s,T,A]);return(0,l.useEffect)(()=>{t.current&&($===y?t.current.select():$===k?window.getSelection()?.removeAllRanges():document.activeElement!==t.current&&j(k))},[$,t,k,y]),(0,o.jsxs)(a,{children:[(0,o.jsx)(h.A,{alt:k,imgSize:16,src:v}),(0,o.jsx)("input",{ref:t,className:E?"inputing":"",onBlurCapture:({relatedTarget:e})=>{r.current!==e&&j(k)},onChange:({target:e})=>j(e.value),onFocusCapture:()=>j(y),onKeyDown:({key:e})=>{"Enter"===e&&L()},value:$,...w,...c(y)}),(0,o.jsx)(u.A,{ref:r,className:"action",onClick:()=>{j(k),E?L():M(y)},onFocusCapture:()=>setTimeout(()=>j(k),g.UW.DOUBLE_CLICK/2),...(0,m.Pf)(E?`Go to "${$}"`:`Refresh "${k}" (F5)`),children:E?(0,o.jsx)(n.GoTo,{}):(0,o.jsx)(n.Refresh,{})})]})})},16093:(e,t,r)=>{r.r(t),r.d(t,{Back:()=>l,Down:()=>c,Forward:()=>n,GoTo:()=>s,Refresh:()=>a,Search:()=>p,Up:()=>d});var o=r(74848),i=r(96540);let l=(0,i.memo)(()=>(0,o.jsx)("svg",{viewBox:"-8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M32 14v4H7.656l7.172 7.172L12 28 0 16 12 4l2.828 2.828L7.656 14H32z"})})),n=(0,i.memo)(()=>(0,o.jsx)("svg",{viewBox:"8 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"m20 4 12 12-12 12-2.828-2.828L24.344 18H0v-4h24.344l-7.172-7.172L20 4z"})})),a=(0,i.memo)(()=>(0,o.jsx)("svg",{className:"refresh",viewBox:"-10 -13 52 52",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M20.266.594q2.594.703 4.75 2.195t3.711 3.531 2.414 4.516T32 16q0 2.203-.57 4.25t-1.609 3.828-2.5 3.242-3.242 2.5-3.828 1.609-4.25.57-4.25-.57-3.828-1.609-3.242-2.5-2.5-3.242-1.609-3.82T.002 16q0-2.188.578-4.25t1.648-3.883T4.83 4.554t3.453-2.555H4.002v-2h8v8h-2V3.358q-1.828.875-3.305 2.195T4.174 8.522t-1.609 3.555-.563 3.922q0 1.922.5 3.711t1.414 3.344 2.195 2.836 2.836 2.195 3.336 1.414 3.719.5q1.922 0 3.711-.5t3.344-1.414 2.836-2.195 2.195-2.836 1.414-3.336.5-3.719q0-2.344-.758-4.516T27.127 7.53t-3.242-3.086-4.148-1.93l.531-1.922z"})})),s=(0,i.memo)(()=>(0,o.jsx)("svg",{className:"go-to",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M31.906 16 17.203 30.703l-1.406-1.406L28.094 17H0v-2h28.094L15.797 2.703l1.406-1.406z"})})),c=(0,i.memo)(({flip:e})=>{let t=(0,i.useMemo)(()=>e?{transform:"scaleY(-1)",transition:"all 0.2s"}:void 0,[e]);return(0,o.jsx)("svg",{style:t,viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"m28.109 5.453 3.781 3.766L15.999 25.11.108 9.219l3.781-3.766 12.109 12.109L28.107 5.453z"})})}),d=(0,i.memo)(()=>{let e=(0,i.useMemo)(()=>({marginTop:"-1px"}),[]);return(0,o.jsx)("svg",{style:e,viewBox:"0 -7 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"m16 0 12 12-2.828 2.828L18 7.656V32h-4V7.656l-7.172 7.172L4 12 16 0z"})})}),p=(0,i.memo)(()=>(0,o.jsx)("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",children:(0,o.jsx)("path",{d:"M21 0q1.516 0 2.922.391T26.547 1.5t2.227 1.727 1.727 2.227 1.109 2.625.391 2.922-.391 2.922-1.109 2.625-1.727 2.227-2.227 1.727-2.625 1.109-2.922.391q-1.953 0-3.742-.656t-3.289-1.891L1.703 31.705q-.297.297-.703.297t-.703-.297T0 31.002t.297-.703l12.25-12.266q-1.234-1.5-1.891-3.289T10 11.002q0-1.516.391-2.922T11.5 5.455t1.727-2.227 2.227-1.727T18.079.392t2.922-.391zm0 20q1.859 0 3.5-.711t2.859-1.93 1.93-2.859T30 11t-.711-3.5-1.93-2.859-2.859-1.93T21 2t-3.5.711-2.859 1.93-1.93 2.859T12 11t.711 3.5 1.93 2.859 2.859 1.93T21 20z"})}))},55650:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(96540),i=r(62104),l=r(25573),n=r(48060);let a=e=>{let{title:t}=(0,i.N)(),[r]=e.split(n.QB),{title:a}=l.A[r]||{};return{appendFileToTitle:(0,o.useCallback)((r,o)=>{let i=r?` - ${r}${o?` ${n.g6}`:""}`:"";t(e,`${a}${i}`)},[e,a,t]),prependFileToTitle:(0,o.useCallback)((r,o,i)=>{let l=r?`${o?`${n.g6} `:""}${r}${i?" ":" - "}`:"";t(e,`${l}${a}`)},[e,a,t])}}},41543:(e,t,r)=>{r.d(t,{A:()=>l});var o=r(96540),i=r(62104);let l=(e,t)=>{let{url:r}=(0,i.N)(),[l,n]=(0,o.useState)(e),[a,s]=(0,o.useState)(()=>[e]),[c,d]=(0,o.useState)(0),p=(0,o.useCallback)(e=>{let o=c+e;d(o),n(a[o]),r(t,a[o])},[r,a,t,c]);return(0,o.useEffect)(()=>{e!==l&&(d(c+1),n(e),s([...a.slice(0,c+1),e]))},[l,a,c,e]),{canGoBack:c>0,canGoForward:c<a.length-1,currentUrl:l,history:a,moveHistory:p,position:c}}}}]);